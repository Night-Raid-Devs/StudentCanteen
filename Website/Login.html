<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>

        Работа столовой

    </title>
    <meta http-equiv="X-UA-Compatible" content="IE=IE8" />
    <link href="./Content/themes/Cupertino/jquery-ui.min.css" rel="stylesheet"/>
<link href="./Content/themes/Cupertino/jquery-ui.structure.min.css" rel="stylesheet"/>
<link href="./Content/themes/Cupertino/jquery-ui.theme.min.css" rel="stylesheet"/>
<link href="./Content/bootstrap.css" rel="stylesheet"/>
<link href="./Content/Site.css" rel="stylesheet"/>
<link href="./Content/css/style.css" rel="stylesheet"/>
<link href="./Content/checkbox.css" rel="stylesheet"/>
<link href="./Content/jquery.loading-indicator.css" rel="stylesheet"/>

    
    <script src="./Scripts/jquery-2.1.4.min.js"></script>
<script src="./Scripts/jquery-ui-1.11.4.min.js"></script>
<script src="./Scripts/jquery-ui-cup.min.js"></script>
<script src="./Scripts/moment.js"></script>
<script src="./Scripts/bootstrap.min.js"></script>
<script src="./Scripts/bootstrap-datetimepicker.js"></script>
<script src="./Scripts/knockout-3.2.0.js"></script>
<script src="./Scripts/knockout.mapping-latest.debug.js"></script>
<script src="./Scripts/knockout-bootstrap.min.js"></script>
<script src="./Scripts/jquery.loading-indicator.js"></script>

    

</head>

<body class="pagebg">
    <div class="wrapper toppad">
        <div class="tophead">
            <div class="dleft">
                <div class="dright">
                    <h1 class="logo">
                        <a href="">
                        </a>
                    </h1>
                    <div class="tophead_i1">
                        <div class="blockinform">

                            <div class="dleft">
                                <div class="dright">
                                    <div class="logOnGreeting">
                                        <span style=" font-size: 20px;">
                                            Столовая, заказ обедов
                                        </span></div>
                                    <div style="text-align: right;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="menucontainer">
                        <span></span>
                        <div id="infoTitle"></div>
                    </div>
                </div>

            </div>
        </div>
        <div class="page">
            <div class="dleft">
                <div class="dright">


                    


<div class="container" id="logForm">
    <div class="row text-center">
        <div class="row">

            <div class="panel panel-default">
                <div class="panel-heading">
                    <strong>Выполнить вход</strong>
                </div>
                <div class="panel-body" style=" background-color: rgb(29, 234, 242);">
<br />
<hr />
<span class="field-validation-valid text-danger" data-valmsg-for="LogIn" data-valmsg-replace="true"></span>                        <div class="form-group input-group">
                            <span class="input-group-addon   glyphicon glyphicon-log-in"></span>
                            <input class="form-control" id="LogIn" placeholder="Ваш логин" type="text" value="" />
                        </div>
<span class="field-validation-valid text-danger" data-valmsg-for="Password" data-valmsg-replace="true"></span>                        <div class="form-group input-group">
                            <span class="input-group-addon   glyphicon glyphicon-lock"></span>
                            <input class="form-control" id="Password" placeholder="Ваш пароль" type="password" />
                        </div>
                        <hr />
                        <button class="btn glyphicon" type="button" onclick="login()"><span class="glyphicon glyphicon-ok-circle">Войти</span></button>
                        <hr />
</div>

            </div>

        </div>
        <script type="text/javascript">
            (function () {
                $('#logForm').css({ 'width': '250px', 'opacity': '0.5' });
                $('.panel-heading').css({ 'padding': '20px', 'fontSize': '14pt', 'backgroundColor': 'rgb(27, 188, 195)' });
                $('.panel-default').css('backgroundColor', 'rgb(207, 236, 254)');
            })();
        </script>
        <script type="text/javascript">
            const serverUrl = "http://192.168.1.4:8080";
            function login()
            {
                var userLogin = document.getElementById('LogIn').value;
                var userPass = document.getElementById('Password').value;
                if (userLogin == "" || userPass == "")
                {
                    alert("Логин и пароль не могут быть пустыми");
                    return;
                }
                fetch(serverUrl + "/login/" + userLogin + "/" + userPass, { credentials: "include" })
                    .then(out =>
                    {
                        if (out.ok)
                        {
                            location.href="./EmployeeArea.html";
                            return null;
                        }
                        else
                            return out.json();
                    })
                    .then(out =>
                    {
                        if (out != null)
                            alert(out.Error);
                    })
                    .catch(err => alert("Ошибка связи с сервером"));
            };
        </script>


    </div>
</div>


                    <div id="footer">
                        Copyright 2017 Ice Software Company. Все права защищены.&nbsp;
                        <br />

                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>